####################################
##  Hardware features and bugs to be fixed and added ##
####################################

Fix: Wrong footprints used for chip array resistors. <- Fully Done.

Add: Missing I2C communication lines from USB3.1 PD chip and dsPIC. <- Fully Done in schematic and board layout, but not tested, and not implemented in firmware.

Fix: dsPIC30F3011 QFN package has different pinout than all other package variants. Can't use schematic symbol from any other pack variants either. Must use QFN symbol and footprint. <- Bodges tested working on prototype. <- Fixed schematic.

Fix: Use 220 ohm resistors to drive LEDs. Not enough current going to opto-isolator to properly drive cell balancing system. <- Tested working on prototype.

Add: More decoupling capacitors around dsPIC for good measure, but don't be excessive. <- Comes with separating analog and digital 3.3v supplies.

Add: Small electrolytic decoupling capacitors to output of buck-boost converter, battery in/out connection.

Fix: Change any analog input filter capacitors from 100nF to 1uF capacitors. <- Fixed in schematic.

Fix: Seems schottky diodes create their own RF when one side has a ripple voltage and the other side has a decoupling capacitor. <-Partly tested. Not satisfied.
cont: Find rectifier diodes that are small with high enough current rating to replace input select diodes before the 3.3v regulator.
cont: Replace any other schottky diodes where possible. Add snubber networks.

Add: 10uF capacitor to input of 3.3v regulator(s).

Upgrade: Current output rating is only 10 amps. Try to get it up to 15 amps.

Fix: Lots of EMI coming from multiplexed LED drive circuit.

Fix: USB and AUX charge inputs will output power to one or the other. This is NOT safe for either device that may be plugged in.

Fix: Balance LEDs continually on when battery connected. Connections are wrong in schematic. <- Tested and working on prototype board. <-Fixed in schematic.

Fix: 1k pull-up resistor is too much for cell hardware over voltage detect circuit. Use of 10K seems to work on prototype. <- Tested and working on prototype board. <- Fixed in schematic.

Do better: Opto-isolator used for switching cell voltage detect is inaccurate and inefficient. Maybe an analog switch chip would be better and smaller?

Fix: voltage readings horribly wrong especially charger input voltage when one side of the board heats up more than the other. Place resistors closer together and use 0.1% or better resistors, preferably matched sets or arrays.

Change: Replace all film capacitors with the board-flex 100nF capacitors. They aren't needed afaict and are more expensive. <- Fixed in schematic.

Fix: Separate analog and digital 3.3v supplies. Digital needs a small switching buck converter, and analog needs a tiny linear regulator.